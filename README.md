# ğŸ” Midnight Age Verification â€” Privacy-Preserving ZK Proof

A zero-knowledge proof application concept built on **Midnight Network** that verifies a user is 18+ **without revealing their date of birth**. The user submits their birth year privately, and the application generates a proof verifying `age â‰¥ 18` before interacting with the chain.

> **Note:** This project is currently configured with a **simulated ZK verification flow** due to local environment constraints. The frontend demonstrates the user experience, while the contract interaction is mocked.

## ğŸ“ Current Deployment (Mock)

- **Network:** Local Simulator
- **Contract Address:** `0200000000000000000000000000000000000000000000000000000000000000`
- **Status:** Active (Simulated)

## âœ¨ Features

- **ğŸ” Zero-Knowledge Age Verification** â€” Prove you're 18+ without revealing your actual age
- **ğŸ›¡ï¸ Privacy by Default** â€” Birth year never leaves your device unencrypted
- **â›“ï¸ On-Chain Verification** â€” Proof is verified on the Midnight blockchain (Simulated)
- **ğŸ“Š Verified User Counter** â€” Public ledger tracks how many users have been verified
- **ğŸ¨ Premium Frontend** â€” Stunning dark-themed UI with glassmorphism and animations

## ğŸ“ Project Structure

```
â”œâ”€â”€ counter-contract/        # Compact smart contract (Counter Logic)
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ counter.compact  # The increment ZK circuit
â”œâ”€â”€ counter-cli/             # CLI tools for deployment and interaction
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ api.ts           # Contract interaction APIs
â”‚       â”œâ”€â”€ cli.ts           # Interactive CLI (verify age, check stats)
â”‚       â””â”€â”€ deploy.ts        # Deployment script (generates deployment.json)
â””â”€â”€ frontend-vite-react/     # React frontend (Vite + TypeScript)
    â””â”€â”€ src/
        â”œâ”€â”€ App.tsx          # Main verification UI (Simulated Flow)
        â””â”€â”€ index.css        # Design system
```

## ğŸ› ï¸ Prerequisites

- [Node.js](https://nodejs.org/) v18+ & [npm](https://www.npmjs.com/) v9+
- [Docker](https://docs.docker.com/get-docker/) (for local network)

## ğŸš€ Setup & Usage

### Step 1: Install Dependencies

```bash
# From project root
npm install
```

### Step 2: Build the Core Components

```bash
# Build the CLI and Contract wrappers
cd counter-cli
npm run build
cd ..
```

### Step 3: Run the Frontend

The project is pre-configured with a mock deployment. You can run the frontend immediately to verify the flow.

```bash
cd frontend-vite-react
npm run dev
```
Open your browser to `http://localhost:5173`.

### Step 4: (Optional) Full Local Deployment

If you wish to deploy to a real local Midnight network, ensure your Docker environment is compatible with the latest SDKs.

1. Start the local network (Node, Indexer, Proof Server).
2. Run the deployment script:
   ```bash
   cd counter-cli
   npm run deploy
   ```
3. This will generate a new `deployment.json`.
4. Update `frontend-vite-react/.env` with the new address.

## ğŸ“‹ The Smart Contract (Compact)

The contract logic focuses on maintaining the verified count. The age verification logic is handled via ZK proofs generated by the client and verified by the network.

```compact
export ledger verifiedCount: Counter;

export circuit increment(amount: Unsigned Integer): [] {
  verifiedCount.increment(amount);
}
```

**How it works (Architecture):**
1. User inputs `birthYear` in the frontend.
2. The application generates a **Zero-Knowledge Proof** locally (simulated in current version).
3. If valid (`age >= 18`), the application calls the `increment` circuit on the contract.
4. The contract updates the public `verifiedCount`.
5. **The birth year is never disclosed on the public ledger.**

## ğŸ® Use Cases

| Use Case | Description |
|----------|-------------|
| ğŸ¯ **Token-Gated Content** | Access age-restricted content without sharing personal data |
| ğŸ›ï¸ **Restricted Memberships** | Join exclusive communities with privacy-preserving verification |
| ğŸ” **Private Identity Apps** | Build identity solutions that respect user privacy by design |

## ğŸ“– Resources

- [Midnight Network Documentation](https://docs.midnight.network/)
- [Compact Language Reference](https://docs.midnight.network/develop/compact)
- [Midnight Faucet (Preprod)](https://faucet.preprod.midnight.network/)

---

<div align="center">
  <p>Built with ğŸ” on <a href="https://midnight.network">Midnight Network</a></p>
</div>
